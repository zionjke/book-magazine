(this["webpackJsonpbook-magazine"]=this["webpackJsonpbook-magazine"]||[]).push([[0],{204:function(e,t,a){e.exports=a(386)},209:function(e,t,a){},386:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),i=a.n(c),o=(a(209),a(23)),l=a(169),u=a(170),m=a(193),s=a(189),d=a(394),E=a(185),f=a(397),p=a(387),O=a(192),h=a(398),b=a(396),v=function(e){var t=e.title,a=e.id,n=e.image,c=e.removeBookFromCart;return r.a.createElement(f.a,{selection:!0,divided:!0,verticalAlign:"middle"},r.a.createElement(f.a.Item,null,r.a.createElement(f.a.Content,{floated:"right"},r.a.createElement(p.a,{onClick:function(){c(a)},color:"red"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")),r.a.createElement(O.a,{avatar:!0,src:n}),r.a.createElement(f.a.Content,null,t)))},y=function(e){var t=e.totalPrice,a=e.count,n=e.items;return r.a.createElement(h.a,null,r.a.createElement(h.a.Item,{name:"browse",onClick:function(){}},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u043a\u043d\u0438\u0433"),r.a.createElement(h.a.Menu,{position:"right"},r.a.createElement(h.a.Item,{name:"signup",onClick:function(){}},"\u0418\u0442\u043e\u0433\u043e: \xa0 ",r.a.createElement("b",null,t)," \u0440\u0443\u0431."),r.a.createElement(b.a,{trigger:r.a.createElement(h.a.Item,{name:"help",onClick:function(){}},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 (",r.a.createElement("b",null,a),")"),content:n.map((function(e){return r.a.createElement(v,e)})),on:"click",hideOnScroll:!0})))},k="APP/BOOK_MAGAZINE/ADD_BOOK_TO_CART",g=function(e){return{type:"APP/BOOK_MAGAZINE/REMOVE_BOOK_FROM_CART",itemId:e}},C=a(184),_=a.n(C),A=Object(o.b)((function(e){var t=e.cart;return{totalPrice:t.items.reduce((function(e,t){return e+t.price}),0),count:t.items.length,items:_()(t.items,(function(e){return e.id}))}}),{removeBookFromCart:g})(y),j=a(191),B=a(31),I=function(e){var t=e.title,a=e.author,n=e.price,c=e.image,i=e.addBookToCart,o=e.addedCount;return r.a.createElement(j.a,null,r.a.createElement(O.a,{src:c,wrapped:!0,ui:!1}),r.a.createElement(j.a.Content,null,r.a.createElement(j.a.Header,null,t),r.a.createElement(j.a.Meta,null,r.a.createElement("span",{className:"date"},a))),r.a.createElement(j.a.Content,{extra:!0},r.a.createElement("a",null,r.a.createElement(B.a,{name:"usd"}),n)),r.a.createElement(p.a,{onClick:i.bind(void 0,e)},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 ",o>0&&"(".concat(o,")")))},w=Object(o.b)((function(e,t){var a=e.cart,n=t.id;return{addedCount:a.items.reduce((function(e,t){return e+(t.id===n?1:0)}),0)}}),{addBookToCart:function(e){return{type:k,item:e}},removeBookFromCart:g})(I),P=a(393),R=function(e){var t=e.setFilter,a=e.filterBy,n=e.searchQuery,c=e.setSearchQuery;return r.a.createElement(h.a,{secondary:!0},r.a.createElement(h.a.Item,{name:"all",active:"all"===a,onClick:t.bind(void 0,"all")},"\u0412\u0441\u0435"),r.a.createElement(h.a.Item,{name:"popular",active:"popular"===a,onClick:t.bind(void 0,"popular")},"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435"),r.a.createElement(h.a.Item,{name:"price_high",active:"price_high"===a,onClick:t.bind(void 0,"price_high")},"\u0426\u0435\u043d\u0430(\u0434\u043e\u0440\u043e\u0433\u0438\u0435)"),r.a.createElement(h.a.Item,{name:"price_low",active:"price_low"===a,onClick:t.bind(void 0,"price_low")},"\u0426\u0435\u043d\u0430(\u0434\u0435\u0448\u0435\u0432\u044b\u0435)"),r.a.createElement(h.a.Item,{name:"author",active:"author"===a,onClick:t.bind(void 0,"author")},"\u041f\u043e \u0430\u0432\u0442\u043e\u0440\u0443"),r.a.createElement(h.a.Item,null,r.a.createElement(P.a,{icon:"search",value:n,onChange:function(e){return c(e.target.value)},placeholder:"\u041f\u043e\u0438\u0441\u043a"})))},M="APP/BOOK_MAGAZINE/SET_FILTER",K="APP/BOOK_MAGAZINE/SET_QUERY",T=function(e){return{type:M,filter:e}},F=Object(o.b)((function(e){return{filterBy:e.filter.filterBy,searchQuery:e.filter.searchQuery}}),{setFilter:T,setSearchQuery:function(e){return{type:K,query:e}}})(R),Q=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.getBooks()}},{key:"render",value:function(){var e=this.props,t=e.books,a=e.isReady;return r.a.createElement(d.a,null,r.a.createElement(A,null),r.a.createElement(F,null),r.a.createElement(E.a,{itemsPerRow:4},a?t.map((function(e,t){return r.a.createElement(w,Object.assign({key:t},e))})):"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."))}}]),a}(n.Component),S=a(17),N="APP/BOOK_MAGAZINE/SET_BOOKS",G=a(186),Z=a.n(G),L={isReady:!1,items:null},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(S.a)(Object(S.a)({},e),{},{items:t.payload,isReady:!0});case"APP/BOOK_MAGAZINE/SET_IS_READY":return Object(S.a)(Object(S.a)({},e),{},{isReady:t.payload})}return e},D=a(62),z=a.n(D),q=function(e,t,a){return function(e,t){switch(t){case"price_high":return z()(e,"price","desc");case"price_low":return z()(e,"price","asc");case"author":return z()(e,"author","asc");case"popular":return z()(e,"rating","desc");case"all":default:return e}}(function(e,t){return e.filter((function(e){return e.title.toLowerCase().indexOf(t.toLowerCase())>=0||e.author.toLowerCase().indexOf(t.toLowerCase())>=0}))}(e,a),t)},J=Object(o.b)((function(e){var t=e.books,a=e.filter;return{books:t.items&&q(t.items,a.filterBy,a.searchQuery),isReady:t.isReady}}),{getBooks:function(){return function(e){Z.a.get("https://books-magazine.herokuapp.com/books").then((function(t){var a=t.data;e({type:N,payload:a})}))}},setFilter:T})(Q),V=a(46),Y=a(190),H=a(45),U={items:[]},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(S.a)(Object(S.a)({},e),{},{items:[].concat(Object(H.a)(e.items),[t.item])});case"APP/BOOK_MAGAZINE/REMOVE_BOOK_FROM_CART":return Object(S.a)(Object(S.a)({},e),{},{items:e.items.filter((function(e){return e.id!==t.itemId}))})}return e},X=a(188),$={searchQuery:"",filterBy:"all"},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(S.a)(Object(S.a)({},e),{},{filterBy:t.filter});case K:return Object(S.a)(Object(S.a)({},e),{},{searchQuery:t.query})}return e},te=Object(V.d)(Object(V.c)({books:x,cart:W,filter:ee}),Object(V.a)(Y.a,X.a));a(385);i.a.render(r.a.createElement(o.a,{store:te},r.a.createElement(J,null)),document.getElementById("root"))}},[[204,1,2]]]);
//# sourceMappingURL=main.de06178b.chunk.js.map